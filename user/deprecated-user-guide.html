<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User’s Guide &mdash; Illuminator 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=857d7e63" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=8d563738"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="../_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/illuminator.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick Start</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Educational tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorials-overview.html">Tutorials Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial1.html">Tutorial: Power Balancing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial2.html">Tutorial: Electricity Markets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/tutorial3.html">Tutorial: Grid Congestion</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">User's Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="config-file.html">Simulation Configuration File</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulations.html">Running Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="connections.html">Connections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references/models.html">Illuminator Models</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer's Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/set-up.html">Set Up Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/software-architecture.html">Software Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/developer-docstrings.html">Custom Model Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/testing-explained.html">Testing: basic principles and ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/writing-tests.html">Creating/writing tests</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Future Work</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/dev-cluster-setup.html">Illuminator Cluster Set Up</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/dev-dashboard.html">Dashboard</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../references/scenario-api.html">Scenario API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Illuminator</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">User’s Guide</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/deprecated-user-guide.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="user-s-guide">
<h1>User’s Guide<a class="headerlink" href="#user-s-guide" title="Link to this heading"></a></h1>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<p>There are three methods to configurate the cases.</p>
<section id="using-existing-cases">
<h3>1. Using Existing Cases<a class="headerlink" href="#using-existing-cases" title="Link to this heading"></a></h3>
<p>You can use the  provided <code class="docutils literal notranslate"><span class="pre">config.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">connection.xml</span></code> files in the <code class="docutils literal notranslate"><span class="pre">Cases/</span></code> directory.
We provide four example in <code class="docutils literal notranslate"><span class="pre">Cases</span></code> folder:</p>
<ul class="simple">
<li><p>Residential Case study(<code class="docutils literal notranslate"><span class="pre">ResidentialCase</span></code>)</p></li>
<li><p>Multienergy system case study(<code class="docutils literal notranslate"><span class="pre">MultienergyCase</span></code>)</p></li>
<li><p>Electricity market game case study (<code class="docutils literal notranslate"><span class="pre">GameCase</span></code>) For more information about the electricity market case study, you can reference the <a class="reference external" href="https://repository.tudelft.nl/islandora/object/uuid:58029e39-5541-4a17-90cd-cc487383beec?collection=education">Msc thesis</a>, and</p></li>
<li><p>Distribution voltage control case study (<code class="docutils literal notranslate"><span class="pre">DNcontrolCase</span></code>) .</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">config.xml</span></code> file is used to define the models in the case and where to
run the model.
For example in the <code class="docutils literal notranslate"><span class="pre">config.xml</span></code> below, we built a simulation with only Wind and PV models.
In the configuration below, the wind model runs (localy? in the master?) and the PV model runs in a <strong>client</strong> with IP ‘192.168.0.1’, and the <strong>master</strong> get the PV model’s information from the port the <strong>client</strong>’s port <code class="docutils literal notranslate"><span class="pre">5123</span></code>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">  </span>#&#39;Wind&#39;<span class="w"> </span>,&#39;python&#39;,&#39;Models.Wind.wind_mosaik:WindSim&#39;
<span class="w">  </span>#&#39;PV&#39;,&#39;connect&#39;,<span class="w"> </span>&#39;192.168.0.1:5123&#39;
<span class="w">  </span>
<span class="w">  </span><span class="cp">&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;</span>
<span class="w">  </span><span class="nt">&lt;data&gt;</span>
<span class="w">    </span><span class="nt">&lt;row&gt;</span>
<span class="w">      </span><span class="nt">&lt;index&gt;</span>0<span class="nt">&lt;/index&gt;</span>
<span class="w">      </span><span class="nt">&lt;model&gt;</span>Wind<span class="nt">&lt;/model&gt;</span>
<span class="w">      </span><span class="nt">&lt;method&gt;</span>python<span class="nt">&lt;/method&gt;</span>
<span class="w">      </span><span class="nt">&lt;location&gt;</span>Models.Wind.wind_mosaik:WindSim<span class="nt">&lt;/location&gt;</span>
<span class="w">    </span><span class="nt">&lt;/row&gt;</span>
<span class="w">    </span><span class="nt">&lt;row&gt;</span>
<span class="w">      </span><span class="nt">&lt;index&gt;</span>1<span class="nt">&lt;/index&gt;</span>
<span class="w">      </span><span class="nt">&lt;model&gt;</span>PV<span class="nt">&lt;/model&gt;</span>
<span class="w">      </span><span class="nt">&lt;method&gt;</span>connect<span class="nt">&lt;/method&gt;</span>
<span class="w">      </span><span class="nt">&lt;location&gt;</span>192.168.0.1:5123<span class="nt">&lt;/location&gt;</span>
<span class="w">    </span><span class="nt">&lt;/row&gt;</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">connection.xml</span></code> file sets how the message are transfered from one model to others.
For example in the snippet below, the <code class="docutils literal notranslate"><span class="pre">ctrl</span></code> model sends information about ‘flow2e’ to <code class="docutils literal notranslate"><span class="pre">electrolyser</span></code> to control its hydrogen generating speed.
The <code class="docutils literal notranslate"><span class="pre">electrolyser</span></code> send the ‘h2_gen’ information to model <code class="docutils literal notranslate"><span class="pre">h2storage</span></code> ‘h2_in’ to control the hydrogen storing speed.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="w">    </span>#[&#39;ctrl&#39;,<span class="w"> </span>&#39;electrolyser&#39;,<span class="w"> </span>&#39;flow2e&#39;],
<span class="w">    </span>#[&#39;electrolyser&#39;,<span class="w"> </span>&#39;h2storage&#39;,<span class="w"> </span>&#39;h2_gen&#39;,<span class="w"> </span>&#39;h2_in&#39;],
<span class="w">    </span>
<span class="w">    </span><span class="nt">&lt;row&gt;</span>
<span class="w">        </span><span class="nt">&lt;index&gt;</span>13<span class="nt">&lt;/index&gt;</span>
<span class="w">        </span><span class="nt">&lt;send&gt;</span>ctrl<span class="nt">&lt;/send&gt;</span>
<span class="w">        </span><span class="nt">&lt;receive&gt;</span>electrolyser<span class="nt">&lt;/receive&gt;</span>
<span class="w">        </span><span class="nt">&lt;message&gt;</span>flow2e<span class="nt">&lt;/message&gt;</span>
<span class="w">        </span><span class="nt">&lt;more/&gt;</span>
<span class="w">      </span><span class="nt">&lt;/row&gt;</span>
<span class="w">      </span><span class="nt">&lt;row&gt;</span>
<span class="w">        </span><span class="nt">&lt;index&gt;</span>14<span class="nt">&lt;/index&gt;</span>
<span class="w">        </span><span class="nt">&lt;send&gt;</span>electrolyser<span class="nt">&lt;/send&gt;</span>
<span class="w">        </span><span class="nt">&lt;receive&gt;</span>h2storage<span class="nt">&lt;/receive&gt;</span>
<span class="w">        </span><span class="nt">&lt;message&gt;</span>h2_gen<span class="nt">&lt;/message&gt;</span>
<span class="w">        </span><span class="nt">&lt;more&gt;</span>h2_in<span class="nt">&lt;/more&gt;</span>
</pre></div>
</div>
</section>
<section id="using-the-build-configuration-script">
<h3>2. Using the ‘build configuration’ Script<a class="headerlink" href="#using-the-build-configuration-script" title="Link to this heading"></a></h3>
<p>User can configure a case using the python scripts <code class="docutils literal notranslate"><span class="pre">build_configuration_xml</span></code> in the folder <code class="docutils literal notranslate"><span class="pre">configuration/</span></code> directory. By executing the script, the <code class="docutils literal notranslate"><span class="pre">config.xml</span></code> and <code class="docutils literal notranslate"><span class="pre">connection.xml</span></code>
file will be automatically built. Use  change the configuration by changing the parameters <code class="docutils literal notranslate"><span class="pre">sim_config</span></code> and <code class="docutils literal notranslate"><span class="pre">connection</span></code>.</p>
</section>
<section id="drawing-configurations">
<h3>3. Drawing Configurations<a class="headerlink" href="#drawing-configurations" title="Link to this heading"></a></h3>
<p>The Illuminator also provide visualized method to create configuration. The user can use a smart board, touch screen or mouse to configurate
the case. To to this, firstly, run <code class="docutils literal notranslate"><span class="pre">drawpptx.py</span></code>.
Secondly, draw a configuration by hand and save as a PowerPoint file with a <code class="docutils literal notranslate"><span class="pre">.pptx</span></code> file extension. For example:</p>
<div align="center">
	<img align="center" src="../_static/img/config.png" width="400">
</div>
<p>Thirdly, run the script <code class="docutils literal notranslate"><span class="pre">readppt_connectionxml.py</span></code> to build the configuration files.</p>
</section>
</section>
<section id="defining-models">
<h2>Defining Models<a class="headerlink" href="#defining-models" title="Link to this heading"></a></h2>
<p>Model parameters, results presentation and real-time simulation are all set in the file <code class="docutils literal notranslate"><span class="pre">buildmodelse.py</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>    <span class="n">Battery_initialset</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;initial_soc&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
    <span class="n">Battery_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;max_p&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;min_p&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">500</span><span class="p">,</span> <span class="s1">&#39;max_energy&#39;</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
            <span class="s1">&#39;charge_efficiency&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span> <span class="s1">&#39;discharge_efficiency&#39;</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">,</span>
            <span class="s1">&#39;soc_min&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;soc_max&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;flag&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;resolution&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">}</span>  <span class="c1">#p in kW</span>
    <span class="c1">#Set flag as 1 to show fully discharged state; -1 show fully charged,0 show ready to charge and discharge</span>

    <span class="n">h2storage_initial</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;initial_soc&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}</span>
    <span class="n">ttrailers_initial</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;initial_soc&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
    <span class="n">h2_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;h2storage_soc_min&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;h2storage_soc_max&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;max_h2&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
              <span class="s1">&#39;min_h2&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;flag&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;capacity&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;eff&#39;</span><span class="p">:</span> <span class="mf">0.94</span><span class="p">,</span> <span class="s1">&#39;resolution&#39;</span><span class="p">:</span><span class="n">resolution</span><span class="p">}</span>
    <span class="n">h2trailer_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;h2storage_soc_min&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;h2storage_soc_max&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;max_h2&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
              <span class="s1">&#39;min_h2&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;flag&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;capacity&#39;</span><span class="p">:</span><span class="mi">3000</span><span class="p">,</span> <span class="s1">&#39;eff&#39;</span><span class="p">:</span> <span class="mf">0.94</span><span class="p">,</span> <span class="s1">&#39;resolution&#39;</span><span class="p">:</span><span class="n">resolution</span><span class="p">}</span>
    <span class="c1"># max_h2 min_h2 in m^3/min;</span>
    <span class="c1"># flag as 1 to show fully discharged state; -1 show fully charged,0 show ready to charge and discharge</span>
    <span class="c1"># approx efficiency of compressed hydrogen storage tanks. Roundtrip efficiency</span>
    <span class="c1"># Capacity is max m3 of hydrogen that it can contain</span>
    
    <span class="n">pv_panel_set</span> <span class="o">=</span><span class="p">{</span><span class="s1">&#39;Module_area&#39;</span><span class="p">:</span> <span class="mf">1.26</span><span class="p">,</span> <span class="s1">&#39;NOCT&#39;</span><span class="p">:</span> <span class="mi">44</span><span class="p">,</span> <span class="s1">&#39;Module_Efficiency&#39;</span><span class="p">:</span> <span class="mf">0.198</span><span class="p">,</span> <span class="s1">&#39;Irradiance_at_NOCT&#39;</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span>
              <span class="s1">&#39;Power_output_at_STC&#39;</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span><span class="s1">&#39;peak_power&#39;</span><span class="p">:</span><span class="mi">600</span><span class="p">}</span>
    <span class="n">pv_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;m_tilt&#39;</span><span class="p">:</span><span class="mi">14</span><span class="p">,</span><span class="s1">&#39;m_az&#39;</span><span class="p">:</span><span class="mi">180</span><span class="p">,</span><span class="s1">&#39;cap&#39;</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;power&#39;</span><span class="p">}</span>
    <span class="c1"># &#39;NOCT&#39;:degree celsius; &#39;Irradiance_at_NOCT&#39;:W/m2 This is the irradiance that falls on the panel under NOCT conditions</span>
    <span class="c1"># KW. Available in spec sheet of a module</span>
    <span class="n">load_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;houses&#39;</span><span class="p">:</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;power&#39;</span><span class="p">}</span>
    
    <span class="n">Wind_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;p_rated&#39;</span><span class="p">:</span><span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;u_rated&#39;</span><span class="p">:</span><span class="mf">10.3</span><span class="p">,</span> <span class="s1">&#39;u_cutin&#39;</span><span class="p">:</span><span class="mf">2.8</span><span class="p">,</span> <span class="s1">&#39;u_cutout&#39;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;cp&#39;</span><span class="p">:</span><span class="mf">0.40</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;power&#39;</span><span class="p">}</span>
    <span class="n">Wind_on_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;p_rated&#39;</span><span class="p">:</span><span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;u_rated&#39;</span><span class="p">:</span><span class="mf">10.3</span><span class="p">,</span> <span class="s1">&#39;u_cutin&#39;</span><span class="p">:</span><span class="mf">2.8</span><span class="p">,</span> <span class="s1">&#39;u_cutout&#39;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;cp&#39;</span><span class="p">:</span><span class="mf">0.40</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span><span class="mi">22</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;power&#39;</span><span class="p">}</span>
    <span class="n">Wind_off_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;p_rated&#39;</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span> <span class="s1">&#39;u_rated&#39;</span><span class="p">:</span><span class="mf">7.5</span><span class="p">,</span> <span class="s1">&#39;u_cutin&#39;</span><span class="p">:</span><span class="mf">2.8</span><span class="p">,</span> <span class="s1">&#39;u_cutout&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;cp&#39;</span><span class="p">:</span><span class="mf">0.40</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span><span class="mi">15</span><span class="p">,</span> <span class="s1">&#39;output_type&#39;</span><span class="p">:</span><span class="s1">&#39;power&#39;</span><span class="p">}</span>
    <span class="c1">#  p_rated  # kW power it generates at rated wind speed and above</span>
    <span class="c1"># u_rated  # m/s #windspeed it generates most power at</span>
    <span class="c1">#  u_cutin  # m/s #below this wind speed no power generation</span>
    <span class="c1"># u_cutout  # m/s #above this wind speed no power generation. Blades are pitched</span>
    <span class="c1"># cp  # coefficient of performance of a turbine. Usually around0.40. Never more than 0.59</span>
    <span class="c1"># powerout = 0  # output power at wind speed u</span>
    <span class="n">fuelcell_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;eff&#39;</span><span class="p">:</span><span class="mf">0.45</span><span class="p">,</span> <span class="s1">&#39;term_eff&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span><span class="s1">&#39;max_flow&#39;</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;min_flow&#39;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s1">&#39;resolution&#39;</span><span class="p">:</span><span class="n">resolution</span><span class="p">}</span>
    
    <span class="n">electrolyser_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;eff&#39;</span><span class="p">:</span><span class="mf">0.60</span><span class="p">,</span><span class="s1">&#39;resolution&#39;</span><span class="p">:</span><span class="n">resolution</span><span class="p">,</span> <span class="s1">&#39;term_eff&#39;</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span><span class="s1">&#39;rated_power&#39;</span><span class="p">:</span><span class="mf">2.3</span><span class="p">,</span><span class="s1">&#39;ramp_rate&#39;</span><span class="p">:</span><span class="mf">1.5</span><span class="p">}</span>
    <span class="c1"># term_eff:  percentage of power transformed in effective heat</span>
    
    <span class="n">RESULTS_SHOW_TYPE</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;write2csv&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;dashboard_show&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Finalresults_show&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">,</span><span class="s1">&#39;database&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span><span class="s1">&#39;mqtt&#39;</span><span class="p">:</span><span class="kc">False</span><span class="p">}</span>
    <span class="c1">#&#39;write2csv&#39;:True/Flause   Write the results to csv file</span>
    <span class="c1"># #&#39;Realtime_show&#39;:True/Flause, show the results in dashboard</span>
    <span class="c1"># &#39;Finalresults_show&#39;:True/Flause, show the results after finish the simulation</span>
    <span class="c1"># &#39;mqtt&#39;::True/Flause, send the results outside through mqtt protocol. When this is True, you must set the receiver correctly.</span>
    
    <span class="n">enetwork_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;max_congestion&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span> <span class="s1">&#39;p_loss_m&#39;</span><span class="p">:</span> <span class="mf">0.56</span><span class="p">,</span> <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
    
    <span class="n">h2network_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;max_congestion&#39;</span><span class="p">:</span> <span class="mi">700</span><span class="p">,</span> <span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="mf">0.0314</span><span class="p">,</span> <span class="s1">&#39;leakage&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">:</span> <span class="mf">0.0899</span><span class="p">}</span>
    <span class="c1"># max_congestion: max internal pressure bar</span>
    <span class="c1"># leakage: % of internal flow loss</span>
    <span class="c1"># ro: gas density kg/m^2 at STP</span>
    
    <span class="n">heatnetwork_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;max_temperature&#39;</span><span class="p">:</span> <span class="mi">300</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;insulation&#39;</span><span class="p">:</span> <span class="mf">0.02</span><span class="p">,</span> <span class="s1">&#39;ext_temp&#39;</span><span class="p">:</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;therm_cond&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span>
                    <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>  <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mf">4.18</span><span class="p">}</span>
    <span class="c1"># max_temperature : max_temperature allowed before congestion # K</span>
    <span class="c1"># insulation:  insulation layer diameter #m</span>
    <span class="c1"># ext_temp: external temperature # K</span>
    <span class="c1"># therm_cond: thermal conductivity # W/(m·K)</span>
    <span class="c1"># leght: lenght of pipeline # m</span>
    <span class="c1"># diameter: pipe diameter # m</span>
    <span class="c1"># density: water density # kg/m^3</span>
    <span class="c1"># c : Thermal capacity of the medium #kJ/(kg·K)</span>
    
    <span class="n">h2demand_r_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;houses&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">}</span>
    <span class="n">h2demand_fs_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;tanks&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    <span class="n">h2demand_ev_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cars&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    <span class="n">h2product_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;houses&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    
    
    <span class="n">heatstorage_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;soc_init&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;max_temperature&#39;</span><span class="p">:</span> <span class="mi">300</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;min_temperature&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="o">+</span><span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;insulation&#39;</span><span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
                    <span class="s1">&#39;ext_temp&#39;</span><span class="p">:</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;therm_cond&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
                    <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mf">2.5</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span> <span class="mf">1.5</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>  <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mf">4.18</span><span class="p">,</span> <span class="s1">&#39;eff&#39;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span> <span class="s1">&#39;max_q&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;min_q&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">300</span><span class="p">}</span>
    <span class="c1"># max_temperature : max_temperature allowed before soc max # K</span>
    <span class="c1"># min_temperature : max_temperature allowed before soc min # K</span>
    <span class="c1"># insulation:  insulation layer diameter #m</span>
    <span class="c1"># ext_temp: external temperature # K</span>
    <span class="c1"># therm_cond: thermal conductivity # W/(m·K)</span>
    <span class="c1"># leght: lenght of pipeline # m</span>
    <span class="c1"># diameter: pipe diameter # m</span>
    <span class="c1"># density: water density # kg/m^3</span>
    <span class="c1"># c: Thermal capacity of the medium #kJ/(kg·K)</span>
    <span class="c1"># eff: charge/discharge efficiency</span>
    
    <span class="c1"># Seasonal storage</span>
    <span class="n">heatstorage_s_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;soc_init&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;max_temperature&#39;</span><span class="p">:</span> <span class="mi">300</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;min_temperature&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="o">+</span><span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;insulation&#39;</span><span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
                    <span class="s1">&#39;ext_temp&#39;</span><span class="p">:</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;therm_cond&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
                    <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>  <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mf">4.18</span><span class="p">,</span> <span class="s1">&#39;eff&#39;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span> <span class="s1">&#39;max_q&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;min_q&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">300</span><span class="p">}</span>
    <span class="c1"># Daily storage</span>
    <span class="n">heatstorage_d_set</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;soc_init&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;max_temperature&#39;</span><span class="p">:</span> <span class="mi">300</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;min_temperature&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="o">+</span><span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;insulation&#39;</span><span class="p">:</span> <span class="mf">0.20</span><span class="p">,</span>
                    <span class="s1">&#39;ext_temp&#39;</span><span class="p">:</span> <span class="mi">25</span> <span class="o">+</span> <span class="mf">275.15</span><span class="p">,</span> <span class="s1">&#39;therm_cond&#39;</span><span class="p">:</span> <span class="mf">0.03</span><span class="p">,</span>
                    <span class="s1">&#39;length&#39;</span><span class="p">:</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;diameter&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;density&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>  <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mf">4.18</span><span class="p">,</span> <span class="s1">&#39;eff&#39;</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span> <span class="s1">&#39;max_q&#39;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span> <span class="s1">&#39;min_q&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">300</span><span class="p">}</span>
    
    <span class="n">heatdemand_i_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;factories&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    <span class="n">heatdemand_r_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;houses&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    <span class="n">heatproduct_set</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;utilities&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">}</span>
    
    <span class="n">hp_params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;hp_model&#39;</span><span class="p">:</span> <span class="s1">&#39;Air_8kW&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;heat_source&#39;</span><span class="p">:</span> <span class="s1">&#39;air&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;cons_T&#39;</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
                 <span class="s1">&#39;heat_source_T&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
                 <span class="s1">&#39;T_amb&#39;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
                 <span class="s1">&#39;calc_mode&#39;</span><span class="p">:</span> <span class="s1">&#39;fast&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;number&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">}</span>
    
    <span class="n">eboiler_set</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;capacity&#39;</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;min_load&#39;</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;max_load&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;standby_loss&#39;</span><span class="p">:</span><span class="mf">0.2</span><span class="p">,</span>
                    <span class="s1">&#39;efficiency&#39;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">,</span><span class="s1">&#39;resolution&#39;</span><span class="p">:</span><span class="n">resolution</span><span class="p">}</span>
    
    <span class="n">realtimefactor</span><span class="o">=</span><span class="mi">0</span>
    <span class="c1">#0 as soon as possible. 1/60 using 1 second simulate 1 mintes</span>
    
    <span class="n">metrics</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;prosumer_s1_0&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.07</span><span class="p">,</span> <span class="mf">0.10</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.12</span><span class="p">],</span><span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.40</span><span class="p">]},</span>
               <span class="s1">&#39;prosumer_s1_1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.27</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.20</span><span class="p">],</span> <span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.33</span><span class="p">]},</span>
               <span class="s1">&#39;prosumer_s1_2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.33</span><span class="p">,</span> <span class="mf">0.07</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.18</span><span class="p">],</span> <span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.09</span><span class="p">,</span> <span class="mf">0.22</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.15</span><span class="p">]},</span>
               <span class="s1">&#39;prosumer_s1_3&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.50</span><span class="p">],</span> <span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.50</span><span class="p">]},</span>
               <span class="s1">&#39;prosumer_s1_4&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.10</span><span class="p">,</span><span class="mf">0.37</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.44</span><span class="p">],</span> <span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.20</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.20</span><span class="p">]},</span>
               <span class="s1">&#39;prosumer_s1_5&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;MC&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.12</span><span class="p">],</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.28</span><span class="p">],</span> <span class="s1">&#39;MO&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.17</span><span class="p">],</span> <span class="s1">&#39;MR&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.19</span><span class="p">]},</span>
    <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="running-simulations">
<h2>Running Simulations<a class="headerlink" href="#running-simulations" title="Link to this heading"></a></h2>
<blockquote>
<div><p>This was set up as a shortcut to collect data and do plotting</p>
</div></blockquote>
<p>Run the <code class="docutils literal notranslate"><span class="pre">simulation</span> <span class="pre">creator_**.py</span></code> to create and run the simulation based on the provided case and scenario.
To see the results via the dashboard, you need Internet and sign up in <a class="reference external" href="https://wandb.ai/site">wandb software</a>.
The <code class="docutils literal notranslate"><span class="pre">simple_test.py</span></code> shows a simple case with the configuration inside of the file.</p>
</section>
<section id="demos">
<h2>Demos<a class="headerlink" href="#demos" title="Link to this heading"></a></h2>
<p>Four case studies show how to use Illuminator, and to verify the Illuminator’s performance.</p>
<section id="residencial-case">
<h3>1. Residencial Case<a class="headerlink" href="#residencial-case" title="Link to this heading"></a></h3>
<p>The first demo shows a residential energy community system which include Households,
PV panels, Wind generators, Battery and Hydrogen system
to achieve electric power self-sufficiency.
The controller’s algorithm in this case runs in the <strong>master</strong> RasPi <code class="docutils literal notranslate"><span class="pre">Controllers/ResidentialController</span></code>, and
the rest <strong>client</strong> simulators are separately deployed in different
RasPis. The data flow between the simulators (clients) is also shown in
the figure below. Based on the inputs, including the generated power
from PV and Wind, the consuming power of households, and
the state of charge (Soc) of the Battery and Hydrogen, the
controller decides the power from the Battery and Fuel cell
and the power to the Electrolyser.</p>
<p>In the case study, we use
simple logic to achieve self-sufficiency. If Battery has enough
capacity for charging or discharging to achieve power balance,
use the Battery first. If Battery doesn’t have enough capacity
to achieve power balance, then use Electrolyser or Fuel cell
to achieve power balance. All the input data are in the <code class="docutils literal notranslate"><span class="pre">Scenarios/</span></code> directory and all the output data are in file <code class="docutils literal notranslate"><span class="pre">Result/ResidentialCase/</span></code>.</p>
<div align="center">
	<img align="center" src="../_static/img/case study.jpg" width="300">
</div>
</section>
<section id="multi-carriers-case">
<h3>2. Multi-carriers Case<a class="headerlink" href="#multi-carriers-case" title="Link to this heading"></a></h3>
<p>The second demo shows the Multi-carriers energy system, which incorporate the electricity
network, hydrogen network and heat network. All the energy assets are shown in the below figure.</p>
<div align="center">
	<img align="center" src="../_static/img/Multienergy.jpg" width="400">
</div>
</section>
<section id="electricity-trade-game">
<h3>3. Electricity Trade Game<a class="headerlink" href="#electricity-trade-game" title="Link to this heading"></a></h3>
<p>The third demo shows the electricity trade game and more details please refer to this <a class="reference external" href="https://repository.tudelft.nl/islandora/object/uuid:58029e39-5541-4a17-90cd-cc487383beec?collection=education">Msc thesis</a></p>
</section>
<section id="cigre-lv-case">
<h3>4. CIGRE LV Case<a class="headerlink" href="#cigre-lv-case" title="Link to this heading"></a></h3>
<p>The fourth demo shows the voltage control in the CIGRE LV voltage network. The network model is in the <code class="docutils literal notranslate"><span class="pre">Models/EleDisNetworkSim/</span></code> directory, and the control method is in <code class="docutils literal notranslate"><span class="pre">Controllers/NetVoltageControllerSim/</span></code></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Illuminator Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>